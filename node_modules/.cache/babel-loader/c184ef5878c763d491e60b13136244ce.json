{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport sunucuBilgileriJSON from '../../sunucu_bilgileri.json';\nimport arayuzAssetVerileri from '@/assets/arayuz_assetleri.json';\nimport VueRangeSlider from 'vue-range-slider';\nimport DataTable from 'primevue/datatable';\nimport Column from 'primevue/column';\nimport Button from 'primevue/button';\nexport default {\n  name: 'App',\n  components: {\n    [DataTable.name]: DataTable,\n    [Column.name]: Column,\n    [Button.name]: Button,\n    VueRangeSlider\n  },\n  data() {\n    return {\n      sunucuBilgileri: JSON.parse(JSON.stringify(sunucuBilgileriJSON)),\n      yerIstasyonuWebsocket: null,\n      websocketBaglantiTimeout: 5000,\n      // 5 sn\n\n      yerIstasyonuBagli: false,\n      hakemSunucuBagli: false,\n      ihaDurum: 'Bilgi yok',\n      yarismaSuresi: 'Bilgi yok',\n      // Nasi yapilir ? Sunucudan da gelebilir.\n\n      msg: '',\n      response: '',\n      logs: '',\n      logSeviyeITOS: {\n        0: 'NOTSET',\n        10: 'DEBUG',\n        20: 'INFO',\n        30: 'WARNING',\n        40: 'ERROR',\n        50: 'CRITICAL'\n      },\n      logSeviyeSTOI: {\n        NOTSET: 0,\n        DEBUG: 10,\n        INFO: 20,\n        WARNING: 30,\n        ERROR: 40,\n        CRITICAL: 50\n      },\n      logList: [{\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }, {\n        'datetime': '01/01/2032 16:23:05:159873',\n        'level': 'INFO',\n        'message': 'Test Mesajı'\n      }],\n      canvasBoyutlari: {\n        // Canvas boyutları dinamik degisecek, buraya asagıda asıl değerler atanacak, bu değerler geçici\n        'kamera-ibreler-canvas': {\n          en: 100,\n          boy: 100\n        },\n        'kalman-harita-canvas': {\n          en: 100,\n          boy: 100\n        }\n      },\n      ibreBoyutlari: {\n        en: 200,\n        boy: 200\n      },\n      arayuzAssetleri: {},\n      ibreCizimSirasi: [\n      // Ibrelerin cizim sirasi. Birbirinin ustune cizmemesi icin\n      'hiz_gosterge', 'hiz_ibre', 'irtifa_gosterge', 'irtifa_ibre', 'pitch_yaw_bg',\n      // GEÇİCİ SONRA ÇIKAR DİNAMİK DOLDUR\n      'yatis_ok', 'pitch_yaw_gosterge', 'pitch_yaw_imlec', 'pusula_gosterge', 'pusula_imlec'],\n      ibreKameraCanvasOran: {\n        // İbre kamera canvas'ının layout oranlanması\n        ibre: {\n          en: 0.2,\n          boy: 0.3\n        },\n        kamera: {\n          en: 1,\n          boy: 0.8\n        }\n      }\n    };\n  },\n  created() {\n    this.websocketSetup();\n  },\n  mounted() {\n    this.arayuzAssetYukle().then(() => this.gostergePaneliCiz());\n    this.logTableAsagiScroll();\n  },\n  methods: {\n    websocketSetup() {\n      this.loglaraEkle({\n        datetime: this.logAnlikZaman(),\n        level: this.logSeviyeSTOI.INFO,\n        message: 'Yer istasyonuna baglaniliyor...'\n      });\n      this.yerIstasyonuWebsocket = new WebSocket(this.sunucuBilgileri.arayuz_ws);\n      this.yerIstasyonuWebsocket.onopen = this.wsOnOpen;\n      this.yerIstasyonuWebsocket.onclose = this.wsOnError;\n      // this.yerIstasyonuWebsocket.onerror=this.wsOnError;\n      this.yerIstasyonuWebsocket.onmessage = this.wsOnMessage;\n    },\n    veriGonder() {\n      this.yerIstasyonuWebsocket.send(this.msg);\n      this.msg = '';\n    },\n    wsOnOpen(event) {\n      this.yerIstasyonuBagli = true;\n      this.loglaraEkle({\n        datetime: this.logAnlikZaman(),\n        level: this.logSeviyeSTOI.INFO,\n        message: 'Yer istasyonuna baglanildi.'\n      });\n      this.$forceUpdate();\n    },\n    wsOnError(event) {\n      this.yerIstasyonuBagli = false;\n      this.loglaraEkle({\n        datetime: this.logAnlikZaman(),\n        level: this.logSeviyeSTOI.ERROR,\n        message: 'Yer istasyonu baglantisi beklenmedik bir sekilde kapandi, 5 saniye icinde  tekrar deneniyor.'\n      });\n      this.$forceUpdate();\n      new Promise(resolve => setTimeout(() => this.websocketSetup(), this.websocketBaglantiTimeout));\n    },\n    wsOnMessage(data) {\n      data = data.data;\n      var jsonData = JSON.parse(data);\n      var msgType = jsonData['type'];\n      var msg = jsonData['data'];\n      switch (msgType) {\n        case 'log':\n          // Data olarak log mesajı string olarak gelir\n          this.loglaraEkle(msg);\n          this.$forceUpdate();\n          break;\n        case 'hakem_sunucu_bagli':\n          // Data olarak hakem sunucu baglanti durumu boolean olarak gelir\n          this.hakemSunucuBagli = msg;\n          this.$forceUpdate();\n        case 'kamera':\n          document.getElementById('kamera').src = `data:image/png;base64,${msg}`;\n      }\n    },\n    wsSendMessage(msg) {\n      if (this.yerIstasyonuWebsocket === null) {\n        this.loglaraEkle({\n          datetime: this.logAnlikZaman(),\n          level: this.logSeviyeSTOI.ERROR,\n          message: `Yer istasyonu baglantisi koptugundan mesaj gonderilemedi: ${msg}`\n        });\n        this.$forceUpdate();\n        return false;\n      }\n      this.yerIstasyonuWebsocket.send(JSON.stringify(msg));\n      return true;\n    },\n    logAnlikZaman() {\n      var dt = new Date();\n      return `${dt.getHours()}:${dt.getMinutes()}:${dt.getSeconds()}.${dt.getMilliseconds()}`;\n    },\n    loglaraEkle(log) {\n      this.logs += `${log}\\n`;\n      this.logList.push(log);\n      // Burdan sonrası asagi autoscroll\n      var textarea = this.$refs.logtextarea;\n      if (textarea === undefined || textarea === null) return;\n      textarea.scrollTop = textarea.scrollHeight;\n      this.$forceUpdate();\n      this.logTableAsagiScroll();\n    },\n    logTableAsagiScroll() {\n      var dt = document.getElementsByClassName('ui-datatable-scrollable-body')[0];\n      if (dt === undefined || dt === null) return;\n      dt.scrollTop = dt.scrollHeight - dt.clientHeight;\n    },\n    ykiSunucuBilgileriGuncelle() {\n      var msg = {\n        type: 'sunucu_bilgileri_guncelle',\n        data: this.sunucuBilgileri\n      };\n      this.wsSendMessage(msg);\n    },\n    async arayuzAssetYukle() {\n      const loadImage = asset => new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n        // img.konum={\n        //   x:asset.konum.x,\n        //   y:asset.konum.y\n        // }\n        img.assetAdi = asset.assetAdi;\n        img.src = require(`./assets/${asset.dosya}`);\n      });\n      var assetMap = [];\n      for (var assetAdi in arayuzAssetVerileri) {\n        var assetVerisi = arayuzAssetVerileri[assetAdi];\n        assetVerisi.assetAdi = assetAdi;\n        assetMap.push(assetVerisi);\n      }\n      await Promise.all(assetMap.map(loadImage)).then(images => {\n        for (var i in images) {\n          var image = images[i];\n          this.arayuzAssetleri[image.assetAdi] = image;\n        }\n      });\n    },\n    gostergePaneliCiz() {\n      // TODO: Buraya parametre olarak gelen telemetri verilerine göre açıları vs. hesaplayıp çizdir.\n      this.gostergeCiz('hiz-gosterge', 'hiz_gosterge');\n      this.ibreCiz('hiz-gosterge', 'hiz_ibre', 0);\n      this.gostergeCiz('irtifa-gosterge', 'irtifa_gosterge');\n      this.ibreCiz('irtifa-gosterge', 'irtifa_ibre', 135 + 0); // 0 noktası 135 derecede işaret ediliyor.\n\n      // TODO: Bu göstergeyi incelemek lazım\n      this.gostergeCiz('pitch-yaw-gosterge', 'pitch_yaw_bg'); // TODO: Burayı çizdirmek gerekicek\n      this.gostergeCiz('pitch-yaw-gosterge', 'yatis_ok');\n      this.gostergeCiz('pitch-yaw-gosterge', 'pitch_yaw_gosterge');\n      this.gostergeCiz('pitch-yaw-gosterge', 'pitch_yaw_imlec');\n      this.gostergeCiz('pusula-gosterge', 'pusula_gosterge');\n      this.ibreCiz('pusula-gosterge', 'pusula_imlec', 0);\n    },\n    gostergeCiz(canvasId, gostergeAdi) {\n      this.canvasaCiz(canvasId, this.arayuzAssetleri[gostergeAdi], 0, 0, this.ibreBoyutlari.en, this.ibreBoyutlari.boy, null);\n    },\n    ibreCiz(canvasId, ibreAdi, aci) {\n      this.canvasaCiz(canvasId, this.arayuzAssetleri[ibreAdi], 0, 0, this.ibreBoyutlari.en, this.ibreBoyutlari.boy, aci === 0 ? null : aci // Açı 0 ise null değilse gelen değeri gönder\n      );\n    },\n\n    dereceToRadyan(derece) {\n      return derece * (Math.PI / 180);\n    },\n    canvasaCiz(canvasId, resim, x, y, en, boy, rotate) {\n      var canvas = document.getElementById(canvasId);\n      var ctx = canvas.getContext('2d');\n      if (rotate !== null) {\n        ctx.save();\n        ctx.translate(en / 2, boy / 2);\n        ctx.rotate(this.dereceToRadyan(rotate));\n        ctx.drawImage(resim, -en / 2, -boy / 2, en, boy);\n        ctx.restore();\n      } else {\n        ctx.drawImage(resim, x, y, en, boy);\n      }\n    },\n    ibreleriCiz() {\n      var ibreler = [];\n      for (var i in this.arayuzAssetleri) {\n        var konum_x = this.arayuzAssetleri[i].konum.x;\n        if (!ibreler.includes(konum_x)) ibreler.push(konum_x);\n      }\n      for (var i in this.ibreCizimSirasi) {\n        var assetAdi = this.ibreCizimSirasi[i];\n        var asset = this.arayuzAssetleri[assetAdi];\n        var rotate = null;\n        if (assetAdi == 'irtifa_ibre') {\n          rotate = this.dereceToRadyan(135);\n        } else if (assetAdi == 'hiz_ibre') {\n          rotate = this.dereceToRadyan(0);\n        }\n        this.canvasaCiz('kamera-ibreler-canvas', asset, asset.konum.x * this.canvasBoyutlari['kamera-ibreler-canvas'].en + this.ibreBoyutlari.padding, asset.konum.y * this.canvasBoyutlari['kamera-ibreler-canvas'].boy - this.ibreBoyutlari.boy + this.canvasBoyutlari['kamera-ibreler-canvas'].boy, this.ibreBoyutlari.en, this.ibreBoyutlari.boy, rotate);\n      }\n    },\n    goreviBaslat() {\n      var msg = {\n        type: 'goreve_basla',\n        data: null\n      };\n      this.wsSendMessage(msg);\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["sunucuBilgileriJSON","arayuzAssetVerileri","VueRangeSlider","DataTable","Column","Button","name","components","data","sunucuBilgileri","JSON","parse","stringify","yerIstasyonuWebsocket","websocketBaglantiTimeout","yerIstasyonuBagli","hakemSunucuBagli","ihaDurum","yarismaSuresi","msg","response","logs","logSeviyeITOS","logSeviyeSTOI","NOTSET","DEBUG","INFO","WARNING","ERROR","CRITICAL","logList","canvasBoyutlari","en","boy","ibreBoyutlari","arayuzAssetleri","ibreCizimSirasi","ibreKameraCanvasOran","ibre","kamera","created","websocketSetup","mounted","arayuzAssetYukle","then","gostergePaneliCiz","logTableAsagiScroll","methods","loglaraEkle","datetime","logAnlikZaman","level","message","WebSocket","arayuz_ws","onopen","wsOnOpen","onclose","wsOnError","onmessage","wsOnMessage","veriGonder","send","event","$forceUpdate","Promise","resolve","setTimeout","jsonData","msgType","document","getElementById","src","wsSendMessage","dt","Date","getHours","getMinutes","getSeconds","getMilliseconds","log","push","textarea","$refs","logtextarea","undefined","scrollTop","scrollHeight","getElementsByClassName","clientHeight","ykiSunucuBilgileriGuncelle","type","loadImage","asset","reject","img","Image","onload","onerror","assetAdi","require","dosya","assetMap","assetVerisi","all","map","images","i","image","gostergeCiz","ibreCiz","canvasId","gostergeAdi","canvasaCiz","ibreAdi","aci","dereceToRadyan","derece","Math","PI","resim","x","y","rotate","canvas","ctx","getContext","save","translate","drawImage","restore","ibreleriCiz","ibreler","konum_x","konum","includes","padding","goreviBaslat"],"sourceRoot":"","sources":["/home/rokosbasilisk/Desktop/garbage/deneme/dashboard/src/App.vue"],"sourcesContent":["<template>\n\n\n  <div class=\" d-flex w-100 h-100 p-3 flex-column\">\n     \n     <div class=\"container-fluid\">\n       <div class=\"row\">\n\n         <div class=\"col-md-3\">\n\n           <div class=\"btn-group mb-3 btn-group-sm\" role=\"group\">\n             <button type=\"button\" class=\"btn btn-outline-success\">Göreve Başla</button>\n             <button type=\"button\" class=\"btn btn-outline-success\">Görevi Duraklat</button>\n             <button type=\"button\" class=\"btn btn-outline-success\">Görevi Tamamla</button>\n             <button type=\"button\" class=\"btn btn-outline-success\">Otonom İniş</button>\n             <button type=\"button\" class=\"btn btn-outline-success\">Eve Dönüş</button>\n           </div>\n\n           <div class=\"card text-bg-dark mb-3\">\n             <div class=\"card-header text-green\">\n               BAĞLANTI BİLGİLERİ\n             </div>\n             <div class=\"card-body\">\n               <div class=\"d-flex justify-content-between flex-row\">\n                 <p class=\"card-text\">Yer istasyonu</p>\n                 <p class=\"card-text text-green\">Bağlandı</p>\n               </div>\n\n                <div class=\"d-flex justify-content-between flex-row\">\n                 <p class=\"card-text\">Hakem Sunucu</p>\n                 <p class=\"card-text text-danger\">Bağlı değil</p>\n               </div>\n\n                <div class=\"d-flex justify-content-between flex-row\">\n                 <p class=\"card-text\">IHA Bağlantı</p>\n                 <p class=\"card-text text-secondary\">Bilgi yok</p>\n               </div>\n\n                <div class=\"d-flex justify-content-between flex-row\">\n                 <p class=\"card-text\">Yarışma Süresi</p>\n                 <p class=\"card-text text-secondary\">Bilgi yok</p>\n               </div>\n\n             </div>\n           </div>\n\n           <div class=\"card text-bg-dark mb-3\">\n             <div class=\"card-header text-green\">\n               SUNUCU BİLGİLERİ\n             </div>\n             <div class=\"card-body\">\n\n               <div class=\"mb-2 row align-items-center\">\n                 <label for=\"takim_no\" class=\"col-sm-4 col-form-label\">Takım No.</label>\n                 <div class=\"col-sm-8\">\n                   <input type=\"text\" class=\"form-control form-control-sm\" id=\"takim_no\">\n                 </div>\n               </div>\n\n               <div class=\"mb-2 row align-items-center\">\n                 <label for=\"hakem_sunucu\" class=\"col-sm-4 col-form-label\">Hakem Sunucu</label>\n                 <div class=\"col-sm-5\">\n                   <input type=\"text\" class=\"form-control form-control-sm\" id=\"hakem_sunucu\">\n                 </div>\n\n                 <div class=\"col-sm-3\">\n                   <input type=\"text\" class=\"form-control form-control-sm\" id=\"hakem_sunucu_port\">\n                 </div>\n               </div>\n\n               <div class=\"mb-2 row align-items-center\">\n                 <label for=\"iha_adres\" class=\"col-sm-4 col-form-label\">IHA Adres</label>\n                 <div class=\"col-sm-5\">\n                   <input type=\"text\" class=\"form-control form-control-sm\" id=\"iha_adres\">\n                 </div>\n\n                 <div class=\"col-sm-3\">\n                   <input type=\"text\" class=\"form-control form-control-sm\" id=\"iha_adres_port\">\n                 </div>\n               </div>\n\n               <div class=\"mb-2 row align-items-center\">\n                 <label for=\"username\" class=\"col-sm-4 col-form-label\">Kullanıcı Adı</label>\n                 <div class=\"col-sm-8\">\n                   <input type=\"text\" class=\"form-control form-control-sm\" id=\"username\">\n                 </div>\n               </div>\n\n               <div class=\"mb-2 row align-items-center\">\n                 <label for=\"password\" class=\"col-sm-4 col-form-label\">Şifre</label>\n                 <div class=\"col-sm-8\">\n                   <input type=\"text\" class=\"form-control form-control-sm\" id=\"password\">\n                 </div>\n               </div>\n\n               <div class=\"d-grid gap-2 mt-3\">\n                  <a href=\"#\" class=\"btn btn-success\">Kaydet</a>\n               </div>\n              \n             </div>\n           </div>\n\n           <div class=\"card text-bg-dark mb-3\">\n             <div class=\"card-header text-green\">\n               GÖREV BİLGİLERİ\n             </div>\n             <div class=\"card-body\">\n               <div class=\"d-flex justify-content-between flex-row\">\n                 <p class=\"card-text\">Yarışma Süresi</p>\n                 <p class=\"card-text\">00:00</p>\n               </div>\n\n                <div class=\"d-flex justify-content-between flex-row\">\n                 <p class=\"card-text\">Son Kilitlenme</p>\n                 <p class=\"card-text\">156879</p>\n               </div>\n\n                <div class=\"d-flex justify-content-between flex-row\">\n                 <p class=\"card-text\">Kilitlenilen İHA Sayısı</p>\n                 <p class=\"card-text\">5</p>\n               </div>\n\n                <div class=\"d-flex justify-content-between flex-row\">\n                 <p class=\"card-text\">Kamikaze Görevi</p>\n                 <p class=\"card-text text-green\">Yapıldı</p>\n               </div>\n\n             </div>\n           </div>\n\n         </div>\n\n         <div class=\"col-md-9\">\n           <div class=\"row\">\n             <div class=\"col-md-6\">\n              <img id=\"kamera\" :width=\"sunucuBilgileri.kamera.cozunurluk.en\" :height=\"sunucuBilgileri.kamera.cozunurluk.boy\">\n               <Button  class=\"camera-button\" @click=\"takePhoto\">\n                <i class=\"pi pi-camera\"></i>\n                <span class=\"text-class\">Görüntü AL</span>\n              </Button>\n              \n             </div>\n\n             <div class=\"col-md-6\">\n              <div class=\"col-md-6 mt-2\">\n               <div class=\"row\">\n                <div class=\"Gaz-Tittle\">\n                  <Tooltip target=\".camera-button\" position=\"top\">\n                    Gaz İşareti Başlık\n                  </Tooltip>\n\n                </div>\n                <Button>dsfsdf</Button>\n               </div>\n              <vue-range-slider></vue-range-slider>\n               \n             </div>\n             </div>\n\n             <div class=\"col-md-12 mt-4\">\n               <img class=\"img-fluid\" src=\"https://via.placeholder.com/1500x300\" alt=\"kadran\">\n             </div>\n\n             <div class=\"col-md-12\">\n              <DataTable :value=\"logList\" :scrollable=\"true\" scrollHeight=\"380px\" tableStyle=\"{'width':'auto'}\" class=\"table table-dark table-dark-hover mt-3\">\n                <Column field=\"datetime\" header=\"Tarih\" [style]=\"{'width':'10px'}\"></Column>\n                <Column field=\"level\" header=\"Seviye\"></Column>\n                <Column field=\"message\" header=\"Mesaj\"></Column>\n              </DataTable>\n             <!-- <table class=\"table table-dark table-dark-hover mt-3\">\n               <thead>\n                 <tr>\n                   <th scope=\"col\">#</th>\n                   <th scope=\"col\">First</th>\n                   <th scope=\"col\">Last</th>\n                   <th scope=\"col\">Handle</th>\n                 </tr>\n               </thead>\n               <tbody>\n                 <tr>\n                   <th scope=\"row\">1</th>\n                   <td>Mark</td>\n                   <td>Otto</td>\n                   <td>@mdo</td>\n                 </tr>\n                 <tr>\n                   <th scope=\"row\">2</th>\n                   <td>Jacob</td>\n                   <td>Thornton</td>\n                   <td>@fat</td>\n                 </tr>\n                 <tr>\n                   <th scope=\"row\">3</th>\n                   <td colspan=\"2\">Larry the Bird</td>\n                   <td>@twitter</td>\n                 </tr>\n               </tbody>\n             </table> -->\n           </div>    \n\n           </div>\n         </div>\n\n         \n\n\n           \n         </div><!-- row -->\n\n       </div><!--container-fluid-->\n     </div>\n     \n</template>\n\n<script>\n\nimport sunucuBilgileriJSON from '../../sunucu_bilgileri.json'\nimport arayuzAssetVerileri from '@/assets/arayuz_assetleri.json'\nimport VueRangeSlider from 'vue-range-slider';\nimport DataTable from 'primevue/datatable';\nimport Column from 'primevue/column';\nimport Button from 'primevue/button';\n\nexport default {\n  name: 'App',\n  components:{\n    [DataTable.name]:DataTable,\n    [Column.name]:Column,\n    [Button.name]:Button,\n    VueRangeSlider,\n  },\n  data(){\n    return {\n      sunucuBilgileri:JSON.parse(JSON.stringify(sunucuBilgileriJSON)),\n\n      yerIstasyonuWebsocket:null,\n      websocketBaglantiTimeout:5000, // 5 sn\n\n      yerIstasyonuBagli:false,\n      hakemSunucuBagli:false,\n      ihaDurum:'Bilgi yok',\n      yarismaSuresi:'Bilgi yok', // Nasi yapilir ? Sunucudan da gelebilir.\n      \n      msg:'',\n      response:'',\n      logs:'',\n      logSeviyeITOS:{\n        0:'NOTSET',\n        10:'DEBUG',\n        20:'INFO',\n        30:'WARNING',\n        40:'ERROR',\n        50:'CRITICAL',\n      },\n      logSeviyeSTOI:{\n        NOTSET:0,\n        DEBUG:10,\n        INFO:20,\n        WARNING:30,\n        ERROR:40,\n        CRITICAL:50,\n      },\n      logList:[\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n        {'datetime':'01/01/2032 16:23:05:159873','level':'INFO','message':'Test Mesajı'},\n      ],\n\n      canvasBoyutlari:{ // Canvas boyutları dinamik degisecek, buraya asagıda asıl değerler atanacak, bu değerler geçici\n        'kamera-ibreler-canvas':{en:100,boy:100},\n        'kalman-harita-canvas':{en:100,boy:100},\n      },\n      ibreBoyutlari:{\n        en:200,\n        boy:200,\n      },\n      arayuzAssetleri:{},\n      ibreCizimSirasi:[ // Ibrelerin cizim sirasi. Birbirinin ustune cizmemesi icin\n        'hiz_gosterge',\n        'hiz_ibre',\n        'irtifa_gosterge',\n        'irtifa_ibre',\n        'pitch_yaw_bg', // GEÇİCİ SONRA ÇIKAR DİNAMİK DOLDUR\n        'yatis_ok',\n        'pitch_yaw_gosterge',\n        'pitch_yaw_imlec',\n        'pusula_gosterge',\n        'pusula_imlec',\n      ],\n      ibreKameraCanvasOran:{ // İbre kamera canvas'ının layout oranlanması\n        ibre:{en:0.2,boy:0.3},\n        kamera:{en:1,boy:0.8},\n      },\n    }\n  },\n  created(){\n    this.websocketSetup();\n  },\n  mounted(){\n    this.arayuzAssetYukle().then(() => this.gostergePaneliCiz());\n    this.logTableAsagiScroll();\n  },\n  methods:{\n    websocketSetup(){\n      this.loglaraEkle(\n        {\n          datetime:this.logAnlikZaman(),\n          level:this.logSeviyeSTOI.INFO,\n          message:'Yer istasyonuna baglaniliyor...'\n        }\n      );\n      this.yerIstasyonuWebsocket=new WebSocket(this.sunucuBilgileri.arayuz_ws);\n      \n      this.yerIstasyonuWebsocket.onopen=this.wsOnOpen;\n      this.yerIstasyonuWebsocket.onclose=this.wsOnError;\n      // this.yerIstasyonuWebsocket.onerror=this.wsOnError;\n      this.yerIstasyonuWebsocket.onmessage=this.wsOnMessage;\n    },\n    veriGonder(){\n      this.yerIstasyonuWebsocket.send(this.msg);\n      this.msg='';\n    },\n    wsOnOpen(event){\n      this.yerIstasyonuBagli=true;\n      this.loglaraEkle(\n        {\n            datetime:this.logAnlikZaman(),\n            level:this.logSeviyeSTOI.INFO,\n            message:'Yer istasyonuna baglanildi.'\n          }\n        \n      );\n      this.$forceUpdate();\n    },\n    wsOnError(event){\n      this.yerIstasyonuBagli=false;\n      this.loglaraEkle(\n        {\n          datetime:this.logAnlikZaman(),\n          level:this.logSeviyeSTOI.ERROR,\n          message:'Yer istasyonu baglantisi beklenmedik bir sekilde kapandi, 5 saniye icinde  tekrar deneniyor.'\n        }\n      );\n      this.$forceUpdate();\n      new Promise(\n        resolve => setTimeout(() => this.websocketSetup(),this.websocketBaglantiTimeout)\n      );\n    },\n    wsOnMessage(data){\n      data=data.data\n      var jsonData=JSON.parse(data);\n      var msgType=jsonData['type'];\n      var msg=jsonData['data'];\n      switch(msgType){\n        case 'log': // Data olarak log mesajı string olarak gelir\n          this.loglaraEkle(msg);\n          this.$forceUpdate();\n          break;\n        case 'hakem_sunucu_bagli': // Data olarak hakem sunucu baglanti durumu boolean olarak gelir\n          this.hakemSunucuBagli=msg;\n          this.$forceUpdate();\n        case 'kamera':\n          document.getElementById('kamera').src=`data:image/png;base64,${msg}`;\n      }\n    },\n    wsSendMessage(msg){\n      if(this.yerIstasyonuWebsocket===null){\n        this.loglaraEkle(\n          {\n            datetime:this.logAnlikZaman(),\n            level:this.logSeviyeSTOI.ERROR,\n            message:`Yer istasyonu baglantisi koptugundan mesaj gonderilemedi: ${msg}`\n          }\n        );\n        this.$forceUpdate();\n        return false;\n      }\n      this.yerIstasyonuWebsocket.send(JSON.stringify(msg));\n      return true;\n    },\n    logAnlikZaman(){\n      var dt = new Date();\n      return `${dt.getHours()}:${dt.getMinutes()}:${dt.getSeconds()}.${dt.getMilliseconds()}`;\n    },\n    loglaraEkle(log){\n      this.logs+=`${log}\\n`;\n      this.logList.push(log);\n      // Burdan sonrası asagi autoscroll\n      var textarea = this.$refs.logtextarea;\n      if(textarea===undefined || textarea === null)\n        return;\n      textarea.scrollTop = textarea.scrollHeight;\n      this.$forceUpdate();\n      this.logTableAsagiScroll();\n    },\n    logTableAsagiScroll(){\n      var dt= document.getElementsByClassName('ui-datatable-scrollable-body')[0];\n      if(dt===undefined || dt===null) return\n      dt.scrollTop = dt.scrollHeight - dt.clientHeight;\n    },\n    ykiSunucuBilgileriGuncelle(){\n      var msg={type:'sunucu_bilgileri_guncelle',data:this.sunucuBilgileri};\n      this.wsSendMessage(msg)\n    },\n    async arayuzAssetYukle(){\n      const loadImage = asset => new Promise((resolve, reject) => {\n        const img = new Image();\n        img.onload = () => resolve(img);\n        img.onerror = reject;\n        // img.konum={\n        //   x:asset.konum.x,\n        //   y:asset.konum.y\n        // }\n        img.assetAdi=asset.assetAdi;\n        img.src = require(`./assets/${asset.dosya}`);\n      })\n\n      var assetMap=[];\n      for(var assetAdi in arayuzAssetVerileri){\n        var assetVerisi=arayuzAssetVerileri[assetAdi];\n        assetVerisi.assetAdi=assetAdi;\n        assetMap.push(assetVerisi);\n      }\n\n      await Promise.all(assetMap.map(loadImage)).then(images => {\n        for(var i in images){\n          var image=images[i];\n          this.arayuzAssetleri[image.assetAdi]=image;\n        }\n      });\n    },\n    gostergePaneliCiz(){\n      // TODO: Buraya parametre olarak gelen telemetri verilerine göre açıları vs. hesaplayıp çizdir.\n      this.gostergeCiz('hiz-gosterge','hiz_gosterge');\n      this.ibreCiz('hiz-gosterge','hiz_ibre',0);\n\n      this.gostergeCiz('irtifa-gosterge','irtifa_gosterge');\n      this.ibreCiz('irtifa-gosterge','irtifa_ibre',135+0); // 0 noktası 135 derecede işaret ediliyor.\n\n      // TODO: Bu göstergeyi incelemek lazım\n      this.gostergeCiz('pitch-yaw-gosterge','pitch_yaw_bg'); // TODO: Burayı çizdirmek gerekicek\n      this.gostergeCiz('pitch-yaw-gosterge','yatis_ok');\n      this.gostergeCiz('pitch-yaw-gosterge','pitch_yaw_gosterge');\n      this.gostergeCiz('pitch-yaw-gosterge','pitch_yaw_imlec');\n\n      this.gostergeCiz('pusula-gosterge','pusula_gosterge');\n      this.ibreCiz('pusula-gosterge','pusula_imlec',0);\n    },\n    gostergeCiz(canvasId, gostergeAdi){\n      this.canvasaCiz(\n        canvasId,\n        this.arayuzAssetleri[gostergeAdi],\n        0,\n        0,\n        this.ibreBoyutlari.en,\n        this.ibreBoyutlari.boy,\n        null\n      )\n    },\n    ibreCiz(canvasId, ibreAdi, aci){\n      this.canvasaCiz(\n        canvasId,\n        this.arayuzAssetleri[ibreAdi],\n        0,\n        0,\n        this.ibreBoyutlari.en,\n        this.ibreBoyutlari.boy,\n        aci === 0 ? null : aci, // Açı 0 ise null değilse gelen değeri gönder\n      )\n    },\n    dereceToRadyan(derece){\n      return derece * (Math.PI/180);\n    },\n    canvasaCiz(canvasId,resim,x,y,en,boy,rotate){\n      var canvas=document.getElementById(canvasId);\n      var ctx=canvas.getContext('2d');\n      if(rotate!==null){\n        ctx.save();\n        ctx.translate(en/2,boy/2);\n        ctx.rotate(this.dereceToRadyan(rotate));\n        ctx.drawImage(resim,-en/2,-boy/2,en,boy);\n        ctx.restore()\n      }\n      else {\n        ctx.drawImage(resim,x,y,en,boy);\n      }\n    },\n    ibreleriCiz(){\n      var ibreler=[]\n      for(var i in this.arayuzAssetleri){\n        var konum_x=this.arayuzAssetleri[i].konum.x;\n        if(!ibreler.includes(konum_x))\n          ibreler.push(konum_x);\n      }\n      \n      for(var i in this.ibreCizimSirasi){\n        var assetAdi=this.ibreCizimSirasi[i];\n        var asset=this.arayuzAssetleri[assetAdi];\n        var rotate=null;\n        if(assetAdi=='irtifa_ibre'){\n          rotate=this.dereceToRadyan(135);\n        }\n        else if(assetAdi=='hiz_ibre'){\n          rotate=this.dereceToRadyan(0)\n        }\n        this.canvasaCiz(\n          'kamera-ibreler-canvas',\n          asset,\n          (asset.konum.x*this.canvasBoyutlari['kamera-ibreler-canvas'].en)+this.ibreBoyutlari.padding,\n          (asset.konum.y*this.canvasBoyutlari['kamera-ibreler-canvas'].boy)-this.ibreBoyutlari.boy+this.canvasBoyutlari['kamera-ibreler-canvas'].boy,\n          this.ibreBoyutlari.en,\n          this.ibreBoyutlari.boy,\n          rotate\n        );\n      }\n    },\n    goreviBaslat(){\n      var msg={type:'goreve_basla',data:null};\n      this.wsSendMessage(msg);\n    }\n  }\n}\n</script>\n\n<style>\n/* #app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n} */\n\n.container {\n  display:flex;\n  flex-direction: column;\n}\n\n.bilgiler-kamera-kalman {\n  display: flex;\n  margin-left: 10px;\n  margin-right: 10px;\n}\n\n.bilgiler {\n  display: flex;\n  flex-direction: column;\n  margin-right: 10px;\n}\n\n.bilgiler > * {\n  border: solid 1px;\n}\n\n.satir-1 {\n  display: flex;\n}\n\n.sunucu-bilgileri {\n  display:flex;\n  flex-direction:column;\n}\n\n.bilgi-satir {\n  display:flex;\n  justify-content: space-between;\n  align-items: baseline;\n  max-height: 40px;\n}\n\n.kamera-ibreler-kalman {\n  display:flex;\n  flex-direction: column;\n}\n\n.kamera-kalman {\n  display:flex;\n}\n\n.kamera-kalman > * {\n  border: solid 1px black;\n}\n\n.ibreler {\n  display:flex;\n  justify-content: center;\n  background-color: black;\n  border: 5px solid gray;\n  border-bottom-right-radius: 50px;\n  border-bottom-left-radius: 50px;\n}\n.ibreler > * {\n  margin-right: 10px;\n}\n\n.kalman-harita {\n  /* background-color: green; */\n  border: solid 1px black;\n  width: 40%;\n}\n\n/* #kamera-ibreler-canvas {\n  width: 33%;\n} */\n\n.hizli-komutlar-satir {\n  display:flex;\n  flex-direction: column;\n}\n\n.hizli-komutlar {\n  display: flex;\n  justify-content: center;\n}\n\n.yki-komut {\n  display:flex;\n  justify-content: center;\n}\n\n.log-satir {\n  display:flex;\n  flex-direction: row;\n}\n\n.log-kayitlari {\n  display:flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding: 0.5%;\n  margin: 0.5%;\n  width: 100%;\n}\n\n#logtextarea {\n  width:100%;\n  min-height: 250%;\n}\n\n#logtable tr{\n  font-size:13px;\n  height : 30px;\n}\n\nbody {\n        font-family: Roboto Mono;\n        background-color: #121212;\n      }\n\n      .text-green {\n        color: #94bc2f !important;\n      }\n\n\n      .btn-outline-success {\n        --bs-btn-color: #94bc2f;\n        --bs-btn-border-color: #94bc2f;\n        --bs-btn-hover-color: #fff;\n        --bs-btn-hover-bg: #94bc2f;\n        --bs-btn-hover-border-color: #94bc2f;\n        --bs-btn-focus-shadow-rgb: 25,135,84;\n        --bs-btn-active-color: #fff;\n        --bs-btn-active-bg: #94bc2f;\n        --bs-btn-active-border-color: #94bc2f;\n        --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n        --bs-btn-disabled-color: #94bc2f;\n        --bs-btn-disabled-bg: transparent;\n        --bs-btn-disabled-border-color: #94bc2f;\n        --bs-gradient: none;\n      }\n\n      .btn-success {\n        --bs-btn-color: #fff;\n        --bs-btn-bg: #94bc2f;\n        --bs-btn-border-color: #94bc2f;\n        --bs-btn-hover-color: #fff;\n        --bs-btn-hover-bg: #648121;\n        --bs-btn-hover-border-color: #648121;\n        --bs-btn-focus-shadow-rgb: 60,153,110;\n        --bs-btn-active-color: #fff;\n        --bs-btn-active-bg: #648121;\n        --bs-btn-active-border-color: #13653f;\n        --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n        --bs-btn-disabled-color: #fff;\n        --bs-btn-disabled-bg: #94bc2f;\n        --bs-btn-disabled-border-color: #94bc2f;\n      }\n      .camera-button{\n  font-size: 600px;\n  width: 50%  ;\n  height: 100px;\n  margin-bottom: 0.5rem;\n}\n\n.pi pi-camera{\n  font-size: large;\n  margin-left: 10px;\n}\n.text-class{\n  \n  margin-left: 50px;\n  text-align: center;\n\n}\n.Gaz-Tittle{\n  color: white;\n}\n\n</style>\n"]},"metadata":{},"sourceType":"module"}