{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, withCtx as _withCtx, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"d-flex w-100 h-100 p-3 flex-column\"\n};\nvar _hoisted_2 = {\n  \"class\": \"button-level-style\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_Button = _resolveComponent(\"Button\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_Button, {\n    \"class\": _normalizeClass({\n      'p-button-danger': $data.Servo_speed == 0\n    }),\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      return $options.insertvalue('fan_level', 0);\n    })\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createTextVNode(\"Kapat\")];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"class\"]), _createVNode(_component_Button, {\n    \"class\": _normalizeClass({\n      'p-button-danger': $data.Servo_speed == 1\n    }),\n    onClick: _cache[1] || (_cache[1] = function ($event) {\n      return $options.insertvalue('fan_level', 1);\n    })\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createTextVNode(\"Aç\")];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"class\"])])]);\n}","map":{"version":3,"mappings":";;EACO,SAAM;AAAqC;;EACzC,SAAM;AAAoB;;;uBADjCA,oBASM,OATNC,UASM,GARJC,oBAMM,OANNC,UAMM,GALEC,aAAkHC;IAAnG,SAAKC;MAAA,mBAAuBC,iBAAW;IAAA;IAAUC,OAAK;MAAA,OAAEC,oBAAW;IAAA;;wBAAkB;MAAA,OAAK,kBAAL,OAAK;;;gCACzGL,aAA+GC;IAAhG,SAAKC;MAAA,mBAAuBC,iBAAW;IAAA;IAAUC,OAAK;MAAA,OAAEC,oBAAW;IAAA;;wBAAkB;MAAA,OAAE,kBAAF,IAAE","names":["_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_Button","_normalizeClass","$data","onClick","$options"],"sourceRoot":"","sources":["/home/rokosbasilisk/Desktop/SmartTrashBinn/deneme/src/App.vue"],"sourcesContent":["<template>\n  <div class=\" d-flex w-100 h-100 p-3 flex-column\">\n    <div class=\"button-level-style\">\n            <Button v-bind:class=\"{ 'p-button-danger': Servo_speed == 0 }\" @click=\"insertvalue('fan_level', 0)\">Kapat</Button>\n            <Button v-bind:class=\"{ 'p-button-danger': Servo_speed == 1 }\" @click=\"insertvalue('fan_level', 1)\">Aç</Button>\n         \n\n\n    </div>\n  \n  </div>\n</template>\n\n<script>\n\n\nimport Slider from 'primevue/slider';\nimport DataTable from 'primevue/datatable';\nimport Column from 'primevue/column';\nimport Message from 'primevue/message';\nimport Button from 'primevue/button';\nimport { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, onValue, set } from 'firebase/database';\nimport axios from 'axios';\n\nexport default {\n  name: 'App',\n  components: {\n    [DataTable.name]: DataTable,\n    [Column.name]: Column,\n    [Button.name]: Button,\n    Slider,\n    Message\n  },\n  watch: {\n    gazvalue(newVal) {\n      console.log(newVal)\n      if (newVal < 25) {\n        this.gazshowMessage = true;\n        this.gazseverity = 'warn'\n        this.gazuyari = \"Düşük\"\n      }\n      else if (newVal >= 25 && newVal < 150) {\n        this.gazshowMessage = true;\n        this.gazseverity = 'info'\n        this.gazuyari = \"Orta\"\n      }\n      else {// if (newVal >= 75) {\n        this.gazshowMessage = true;\n        this.gazseverity = 'error'\n        this.gazuyari = \"Yüksek\"\n      }\n\n    },\n    isik_value(newVal) {\n      if (newVal < 256) {\n        this.o2showMessage = true;\n        this.o2severity = 'warn'\n        this.o2uyari = \"Düşük\"\n      }\n      else if (newVal >= 256 && newVal < 768) {\n        this.o2showMessage = true;\n        this.o2severity = 'info'\n        this.o2uyari = \"Orta\"\n      }\n      else {\n        this.o2showMessage = true;\n        this.o2severity = 'error'\n        this.o2uyari = \"Yüksek\"\n      }\n\n    }\n\n  },\n  data() {\n    return {\n      mail: {\n        toEmail: '',\n        subject: '',\n        content: ''\n      },\n      kamera: {\n        en: 320,\n        boy: 320,\n      },\n      firebaseConfig: {\n\n        databaseURL: \"https://trash-9498e-default-rtdb.firebaseio.com/\",\n\n      },\n      app: null,\n      database: null,\n      gazvalue: 0,\n      o2value: 0,\n      isik_value: 0,\n      doluluk: 0,\n      light_level: null,\n      fan_speed: null,\n      Servo_speed: null,\n      Email:null,\n      o2showMessage: false,\n      gazshowMessage: false,\n      o2severity: \"warn\",\n      o2uyari: \"Düşük\",\n      gazseverity: \"warn\",\n      gazuyari: \"Düşük\",\n    \n   \n      msg: '',\n      response: '',\n      logs: '',\n      logSeviyeITOS: {\n        0: 'NOTSET',\n        10: 'DEBUG',\n        20: 'INFO',\n        30: 'WARNING',\n        40: 'ERROR',\n        50: 'CRITICAL',\n      },\n      logSeviyeSTOI: {\n        NOTSET: 0,\n        DEBUG: 10,\n        INFO: 20,\n        WARNING: 30,\n        ERROR: 40,\n        CRITICAL: 50,\n      },\n      logList: [\n\n      ]\n\n\n    }\n  },\n  created() {\n  \n\n  },\n  mounted() {\n\n    this.parsedata();\n    // this.takephoto();\n    this.takeEmail();\n\n  },\n  methods: {\n    \n  addlog(level, message) {\n    var date = new Date()\n    this.logList.push({\n      datetime: date,\n      level: level,\n      message: message\n    });\n  },\n  parsedata() {\n    const app = initializeApp(this.firebaseConfig);\n    const database = getDatabase(app);\n    const arduino = ref(database, '/arduino');\n\n    // Değişiklikleri dinle\n    onValue(arduino, (snapshot) => {\n      const data = snapshot.val();\n      const parts = data.split(\"&\");\n      const values = {};\n\n      parts.forEach(part => {\n        part = part.replace(\"G=G=\", \"G=\")\n        const sipletted = part.split(\"=\");\n        const key = sipletted[0];\n        const value = sipletted[sipletted.length - 1]\n        console.log(key);\n        console.log(\"value : \" + value)\n        if (key == \"G\") {\n          this.gazvalue = parseFloat(value)\n        }\n        else if (key == \"L\") {\n          this.isik_value = parseInt(value / 10)\n        }\n        else if (key == \"D\") {\n          this.doluluk = parseFloat(value)\n        }\n        else if (key == \"LS\") {\n          this.light_level = parseInt(value);\n\n        }\n        else if (key == \"FS\") {\n          this.fan_speed = parseInt(value);\n        }\n        else if (key == \"SS\") {\n          this.Servo_speed = parseInt(value);\n        }\n      });\n\n      // document.getElementById(\"kamera\").src=data\n      // this.gazvalue=data\n      // Verileri kullanın veya işleyin\n    });\n  },\n\n\n  insertvalue(dbrefname, deger) {\n    // Firebase referansını oluşturun\n    const app = initializeApp(this.firebaseConfig);\n    const database = getDatabase(app);\n    const databaseRef = ref(database, '/' + dbrefname);\n    // const databaseRef = ref(database, $`/{dbrefname}`);\n\n    // Veriyi ekleyin\n    set(databaseRef,\n      deger\n    )\n      .then(() => {\n        console.log('Veri eklendi');\n      })\n      .catch((error) => {\n        console.error('Veri eklenirken bir hata oluştu:', error);\n      });\n  },\n  takegazvalue() {\n\n    const app = initializeApp(this.firebaseConfig);\n    const database = getDatabase(app);\n    const espCamRef = ref(database, '/gaz_value');\n\n    // Değişiklikleri dinle\n    onValue(espCamRef, (snapshot) => {\n      const data = snapshot.val();\n      console.log(data);\n      // document.getElementById(\"kamera\").src=data\n      this.gazvalue = data\n      // Verileri kullanın veya işleyin\n    });\n\n  },\n  takeo2value() {\n    const app = initializeApp(this.firebaseConfig);\n    const database = getDatabase(app);\n    const espCamRef = ref(database, '/oksijen_value');\n\n    // Değişiklikleri dinle\n    onValue(espCamRef, (snapshot) => {\n      const data = snapshot.val();\n\n      // document.getElementById(\"kamera\").src=data\n      this.o2value = data\n      // Verileri kullanın veya işleyin\n    });\n\n  },\n  insertEmail(){\n    var inputElement = document.getElementById('input');\n    this.insertvalue('Email',inputElement.value)\n\n  },\n  takephoto() {\n    this.insertvalue(\"take_photo\", true);\n    const app = initializeApp(this.firebaseConfig);\n    const database = getDatabase(app);\n    // Veritabanı referansını alın\n    const espCamRef = ref(database, '/esp32-cam');\n\n    // Değişiklikleri dinle\n    onValue(espCamRef, (snapshot) => {\n      const data = snapshot.val();\n      // document.getElementById(\"kamera\").src=data\n      this.$refs[\"kamera\"].src = data\n      this.addlog(\"INFO\", \"Görüntü alındı..\")\n      // Verileri kullanın veya işleyin\n    });\n  },\n  takeEmail(){\n    const app = initializeApp(this.firebaseConfig);\n    const database = getDatabase(app);\n    // Veritabanı referansını alın\n    const espCamRef = ref(database, '/Email');\n\n    // Değişiklikleri dinle\n    onValue(espCamRef, (snapshot) => {\n      const data = snapshot.val();\n      // document.getElementById(\"kamera\").src=data\n      this.Email = data\n      \n      // Verileri kullanın veya işleyin\n    });\n\n  },\n  gazhideMessage() {\n    this.gazshowMessage = false;\n  },\n  o2hideMessage() {\n    this.o2showMessage = false;\n  },\n  logAnlikZaman() {\n    var dt = new Date();\n    return `${dt.getHours()}:${dt.getMinutes()}:${dt.getSeconds()}.${dt.getMilliseconds()}`;\n  },\n  loglaraEkle(log) {\n    this.logs += `${log}\\n`;\n    this.logList.push(log);\n    // Burdan sonrası asagi autoscroll\n    var textarea = this.$refs.logtextarea;\n    if (textarea === undefined || textarea === null)\n      return;\n    textarea.scrollTop = textarea.scrollHeight;\n    this.$forceUpdate();\n    this.logTableAsagiScroll();\n  },\n  logTableAsagiScroll() {\n    var dt = document.getElementsByClassName('ui-datatable-scrollable-body')[0];\n    if (dt === undefined || dt === null) return\n    dt.scrollTop = dt.scrollHeight - dt.clientHeight;\n  },\n\n\n}\n}\n</script>\n\n<style>\n/* #app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n} */\n\n.container {\n  display: flex;\n  flex-direction: column;\n}\n\n.bilgiler-kamera-kalman {\n  display: flex;\n  margin-left: 10px;\n  margin-right: 10px;\n}\n\n.bilgiler {\n  display: flex;\n  flex-direction: column;\n  margin-right: 10px;\n}\n\n.bilgiler>* {\n  border: solid 1px;\n}\n\n.satir-1 {\n  display: flex;\n}\n\n.sunucu-bilgileri {\n  display: flex;\n  flex-direction: column;\n}\n\n.bilgi-satir {\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  max-height: 40px;\n}\n\n.kamera-ibreler-kalman {\n  display: flex;\n  flex-direction: column;\n}\n\n.kamera-kalman {\n  display: flex;\n}\n\n.kamera-kalman>* {\n  border: solid 1px black;\n}\n\n.ibreler {\n  display: flex;\n  justify-content: center;\n  background-color: black;\n  border: 5px solid gray;\n  border-bottom-right-radius: 50px;\n  border-bottom-left-radius: 50px;\n}\n\n.ibreler>* {\n  margin-right: 10px;\n}\n\n.kalman-harita {\n  /* background-color: green; */\n  border: solid 1px black;\n  width: 40%;\n}\n\n/* #kamera-ibreler-canvas {\n  width: 33%;\n} */\n\n.hizli-komutlar-satir {\n  display: flex;\n  flex-direction: column;\n}\n\n.hizli-komutlar {\n  display: flex;\n  justify-content: center;\n}\n\n.yki-komut {\n  display: flex;\n  justify-content: center;\n}\n\n.log-satir {\n  display: flex;\n  flex-direction: row;\n}\n\n.log-kayitlari {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding: 0.5%;\n  margin: 0.5%;\n  width: 100%;\n}\n\n#logtextarea {\n  width: 100%;\n  min-height: 250%;\n}\n\n#logtable tr {\n  font-size: 13px;\n  height: 30px;\n}\n\nbody {\n  font-family: Roboto Mono;\n  background-color: #121212;\n}\n\n.text-green {\n  color: #94bc2f !important;\n}\n\n\n.btn-outline-success {\n  --bs-btn-color: #94bc2f;\n  --bs-btn-border-color: #94bc2f;\n  --bs-btn-hover-color: #fff;\n  --bs-btn-hover-bg: #94bc2f;\n  --bs-btn-hover-border-color: #94bc2f;\n  --bs-btn-focus-shadow-rgb: 25, 135, 84;\n  --bs-btn-active-color: #fff;\n  --bs-btn-active-bg: #94bc2f;\n  --bs-btn-active-border-color: #94bc2f;\n  --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n  --bs-btn-disabled-color: #94bc2f;\n  --bs-btn-disabled-bg: transparent;\n  --bs-btn-disabled-border-color: #94bc2f;\n  --bs-gradient: none;\n}\n\n.btn-success {\n  --bs-btn-color: #fff;\n  --bs-btn-bg: #94bc2f;\n  --bs-btn-border-color: #94bc2f;\n  --bs-btn-hover-color: #fff;\n  --bs-btn-hover-bg: #648121;\n  --bs-btn-hover-border-color: #648121;\n  --bs-btn-focus-shadow-rgb: 60, 153, 110;\n  --bs-btn-active-color: #fff;\n  --bs-btn-active-bg: #648121;\n  --bs-btn-active-border-color: #13653f;\n  --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n  --bs-btn-disabled-color: #fff;\n  --bs-btn-disabled-bg: #94bc2f;\n  --bs-btn-disabled-border-color: #94bc2f;\n}\n\n.camera-button {\n  font-size: 600px;\n  width: 100%;\n  height: 100px;\n  margin-bottom: 0.5rem;\n  margin-top: 1%;\n}\n\n.pi pi-camera {\n  font-size: large;\n  margin-left: 10px;\n}\n\n.text-class {\n\n  margin-left: 50px;\n  text-align: center;\n\n}\n\n.Gaz-Tittle {\n  color: white;\n  position: relative;\n}\n\n.slider-container {\n  width: 300px;\n  height: 30px;\n}\n\n.tooltip-style {\n  background-color: #f1f1f1;\n  color: #333;\n\n  padding: 16px;\n\n  /* padding-right: 50%;\n  padding-left: 50%; */\n  font-size: x-large;\n\n}\n\n.tooltip-icon {\n  margin-right: 10px;\n\n\n}\n\n.sliderTitle {\n  margin: 10%;\n  margin-left: 1%;\n  margin-right: 1%;\n\n}\n\n.tool-tip {\n  display: flex;\n  justify-content: center;\n  background-color: #f1f1f1;\n  border: 1px solid #ccc;\n  border-radius: 16px;\n}\n\n.goruntu-gaz {\n  display: flex;\n  flex-direction: column;\n}\n\n.goruntu-gaz>h2 {\n  color: black;\n  background-color: #f1f1f1;\n  border-radius: 5%;\n}\n\n.ana-baslik {\n  color: white;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 1%;\n\n}\n\n.no-padding {\n  padding: 0px !important;\n  padding-top: 1% !important;\n}\n\nimg+button {\n  margin-bottom: 10%;\n}\n\n.row-gaz {\n  display: flex;\n}\n\n#kamera {\n  width: 100%;\n  height: 320px;\n\n}\n\n.camera-div {\n  display: flex;\n  justify-content: center;\n}\n\n.tool-tip-div p {\n\n  color: white;\n}\n\n.baglanti-bilgisi-div .card-body {\n  display: flex;\n\n  flex-direction: column;\n  justify-content: space-between;\n  align-content: space-between;\n\n}\n\n\n.card-body>div {\n  display: flex;\n  align-content: stretch;\n}\n\n.button-level-style {\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n  align-content: stretch;\n}\n\n.button-level-style>button {\n  display: flex;\n  /* align-items: stretch; */\n  align-content: stretch;\n  width: 100%;\n  border-radius: 10px;\n  margin-top: 2%;\n}</style>\n"]},"metadata":{},"sourceType":"module"}