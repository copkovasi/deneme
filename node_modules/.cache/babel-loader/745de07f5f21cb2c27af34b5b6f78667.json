{"ast":null,"code":"import _slicedToArray from \"/home/rokosbasilisk/Desktop/garbage/hqrc04/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _defineProperty from \"/home/rokosbasilisk/Desktop/garbage/hqrc04/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nvar _components;\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.parse-float.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport arayuzAssetVerileri from '@/assets/arayuz_assetleri.json';\nimport Slider from 'primevue/slider';\nimport DataTable from 'primevue/datatable';\nimport Column from 'primevue/column';\nimport Message from 'primevue/message';\nimport Button from 'primevue/button';\nimport { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, onValue, set } from 'firebase/database';\nexport default {\n  name: 'App',\n  components: (_components = {}, _defineProperty(_components, DataTable.name, DataTable), _defineProperty(_components, Column.name, Column), _defineProperty(_components, Button.name, Button), _defineProperty(_components, \"Slider\", Slider), _defineProperty(_components, \"Message\", Message), _components),\n  watch: {\n    gazvalue: function gazvalue(newVal) {\n      console.log(newVal);\n      if (newVal < 33) {\n        this.gazshowMessage = true;\n        this.gazseverity = 'warn';\n        this.gazuyari = \"düşük\";\n      } else if (newVal >= 33 && newVal < 75) {\n        this.gazshowMessage = true;\n        this.gazseverity = 'info';\n        this.gazuyari = \"orta\";\n      } else {\n        // if (newVal >= 75) {\n        this.gazshowMessage = true;\n        this.gazseverity = 'error';\n        this.gazuyari = \"yüksek\";\n      }\n    },\n    isik_value: function isik_value(newVal) {\n      if (newVal < 256) {\n        this.o2showMessage = true;\n        this.o2severity = 'warn';\n        this.o2uyari = \"düşük\";\n      } else if (newVal >= 256 && newVal < 768) {\n        this.o2showMessage = true;\n        this.o2severity = 'info';\n        this.o2uyari = \"orta\";\n      } else {\n        this.o2showMessage = true;\n        this.o2severity = 'error';\n        this.o2uyari = \"yüksek\";\n      }\n    }\n  },\n  data: function data() {\n    return {\n      kamera: {\n        en: 320,\n        boy: 320\n      },\n      firebaseConfig: {\n        databaseURL: \"https://trash-9498e-default-rtdb.firebaseio.com/\"\n      },\n      app: null,\n      database: null,\n      gazvalue: 0,\n      o2value: 0,\n      isik_value: 0,\n      doluluk: 0,\n      light_level: 0,\n      fan_speed: 0,\n      Servo_speed: 0,\n      o2showMessage: false,\n      gazshowMessage: false,\n      o2severity: \"warn\",\n      o2uyari: \"düşük\",\n      gazseverity: \"warn\",\n      gazuyari: \"düşük\",\n      yerIstasyonuWebsocket: null,\n      websocketBaglantiTimeout: 5000,\n      // 5 sn\n\n      yerIstasyonuBagli: false,\n      hakemSunucuBagli: false,\n      ihaDurum: 'Bilgi yok',\n      yarismaSuresi: 'Bilgi yok',\n      // Nasi yapilir ? Sunucudan da gelebilir.\n\n      msg: '',\n      response: '',\n      logs: '',\n      logSeviyeITOS: {\n        0: 'NOTSET',\n        10: 'DEBUG',\n        20: 'INFO',\n        30: 'WARNING',\n        40: 'ERROR',\n        50: 'CRITICAL'\n      },\n      logSeviyeSTOI: {\n        NOTSET: 0,\n        DEBUG: 10,\n        INFO: 20,\n        WARNING: 30,\n        ERROR: 40,\n        CRITICAL: 50\n      },\n      logList: []\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    this.parsedata();\n  },\n  methods: {\n    addlog: function addlog(level, message) {\n      var date = new Date();\n      this.logList.push({\n        datetime: date,\n        level: level,\n        message: message\n      });\n    },\n    parsedata: function parsedata() {\n      var _this = this;\n      var app = initializeApp(this.firebaseConfig);\n      var database = getDatabase(app);\n      var arduino = ref(database, '/arduino');\n\n      // Değişiklikleri dinle\n      onValue(arduino, function (snapshot) {\n        var data = snapshot.val();\n        var parts = data.split(\"&\");\n        var values = {};\n        parts.forEach(function (part) {\n          var _part$split = part.split(\"=\"),\n            _part$split2 = _slicedToArray(_part$split, 2),\n            key = _part$split2[0],\n            value = _part$split2[1];\n          console.log(key);\n          console.log(\"value : \" + value);\n          if (key == \"G\") {\n            _this.gazvalue = parseFloat(value);\n          } else if (key == \"L\") {\n            _this.isik_value = parseFloat(value);\n          } else if (key == \"D\") {\n            _this.doluluk = parseFloat(value);\n          } else if (key == \"LS\") {\n            _this.light_level = value;\n          } else if (key == \"FS\") {\n            _this.fan_speed = value;\n          } else if (key == \"SS\") {\n            _this.Servo_speed = value;\n          }\n        });\n\n        // document.getElementById(\"kamera\").src=data\n        // this.gazvalue=data\n        // Verileri kullanın veya işleyin\n      });\n    },\n    insertphotovalue: function insertphotovalue(deger) {\n      // Firebase referansını oluşturun\n      var app = initializeApp(this.firebaseConfig);\n      var database = getDatabase(app);\n      var databaseRef = ref(database, '/take_photo');\n\n      // Veriyi ekleyin\n      set(databaseRef, deger).then(function () {\n        console.log('Veri eklendi');\n      })[\"catch\"](function (error) {\n        console.error('Veri eklenirken bir hata oluştu:', error);\n      });\n    },\n    takegazvalue: function takegazvalue() {\n      var _this2 = this;\n      var app = initializeApp(this.firebaseConfig);\n      var database = getDatabase(app);\n      var espCamRef = ref(database, '/gaz_value');\n\n      // Değişiklikleri dinle\n      onValue(espCamRef, function (snapshot) {\n        var data = snapshot.val();\n        console.log(data);\n        // document.getElementById(\"kamera\").src=data\n        _this2.gazvalue = data;\n        // Verileri kullanın veya işleyin\n      });\n    },\n    takeo2value: function takeo2value() {\n      var _this3 = this;\n      var app = initializeApp(this.firebaseConfig);\n      var database = getDatabase(app);\n      var espCamRef = ref(database, '/oksijen_value');\n\n      // Değişiklikleri dinle\n      onValue(espCamRef, function (snapshot) {\n        var data = snapshot.val();\n\n        // document.getElementById(\"kamera\").src=data\n        _this3.o2value = data;\n        // Verileri kullanın veya işleyin\n      });\n    },\n    takephoto: function takephoto() {\n      var _this4 = this;\n      this.insertphotovalue(true);\n      var app = initializeApp(this.firebaseConfig);\n      var database = getDatabase(app);\n      // Veritabanı referansını alın\n      var espCamRef = ref(database, '/esp32-cam');\n\n      // Değişiklikleri dinle\n      onValue(espCamRef, function (snapshot) {\n        var data = snapshot.val();\n        // document.getElementById(\"kamera\").src=data\n        _this4.$refs[\"kamera\"].src = data;\n        _this4.addlog(\"INFO\", \"görüntü alındı..\");\n        // Verileri kullanın veya işleyin\n      });\n    },\n    gazhideMessage: function gazhideMessage() {\n      this.gazshowMessage = false;\n    },\n    o2hideMessage: function o2hideMessage() {\n      this.o2showMessage = false;\n    },\n    logAnlikZaman: function logAnlikZaman() {\n      var dt = new Date();\n      return \"\".concat(dt.getHours(), \":\").concat(dt.getMinutes(), \":\").concat(dt.getSeconds(), \".\").concat(dt.getMilliseconds());\n    },\n    loglaraEkle: function loglaraEkle(log) {\n      this.logs += \"\".concat(log, \"\\n\");\n      this.logList.push(log);\n      // Burdan sonrası asagi autoscroll\n      var textarea = this.$refs.logtextarea;\n      if (textarea === undefined || textarea === null) return;\n      textarea.scrollTop = textarea.scrollHeight;\n      this.$forceUpdate();\n      this.logTableAsagiScroll();\n    },\n    logTableAsagiScroll: function logTableAsagiScroll() {\n      var dt = document.getElementsByClassName('ui-datatable-scrollable-body')[0];\n      if (dt === undefined || dt === null) return;\n      dt.scrollTop = dt.scrollHeight - dt.clientHeight;\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["arayuzAssetVerileri","Slider","DataTable","Column","Message","Button","initializeApp","getDatabase","ref","onValue","set","name","components","watch","gazvalue","newVal","console","log","gazshowMessage","gazseverity","gazuyari","isik_value","o2showMessage","o2severity","o2uyari","data","kamera","en","boy","firebaseConfig","databaseURL","app","database","o2value","doluluk","light_level","fan_speed","Servo_speed","yerIstasyonuWebsocket","websocketBaglantiTimeout","yerIstasyonuBagli","hakemSunucuBagli","ihaDurum","yarismaSuresi","msg","response","logs","logSeviyeITOS","logSeviyeSTOI","NOTSET","DEBUG","INFO","WARNING","ERROR","CRITICAL","logList","created","mounted","parsedata","methods","addlog","level","message","date","Date","push","datetime","arduino","snapshot","val","parts","split","values","forEach","part","key","value","parseFloat","insertphotovalue","deger","databaseRef","then","error","takegazvalue","espCamRef","takeo2value","takephoto","$refs","src","gazhideMessage","o2hideMessage","logAnlikZaman","dt","getHours","getMinutes","getSeconds","getMilliseconds","loglaraEkle","textarea","logtextarea","undefined","scrollTop","scrollHeight","$forceUpdate","logTableAsagiScroll","document","getElementsByClassName","clientHeight"],"sourceRoot":"","sources":["/home/rokosbasilisk/Desktop/garbage/hqrc04/src/App.vue"],"sourcesContent":["<template>\n  <div class=\" d-flex w-100 h-100 p-3 flex-column\">\n\n    <div class=\"container-fluid\">\n      <div class=\"row ana-baslik\">\n        <div class=\"tool-tip\">\n          <Tooltip class=\"tooltip-style \" :fitContent=\"true\">\n\n            <span class=\"tooltip-icon\">⚠️</span> HQRC04\n          </Tooltip>\n        </div>\n      </div>\n      <div class=\"row row-gaz\">\n        <div class=\"col-md-2 baglanti-bilgisi-div\">\n          <div class=\"card text-bg-dark mb-3\">\n            <div class=\"card-header text-green\">\n              BAĞLANTI BİLGİLERİ\n            </div>\n            <div class=\"card-body\">\n              <div class=\"d-flex justify-content-between flex-row\">\n                <p class=\"card-text\">Firebase</p>\n                <p class=\"card-text text-green\">Bağlandı</p>\n              </div>\n\n              <div class=\"d-flex justify-content-between flex-row\">\n                <p class=\"card-text\">esp-32 Bağlantı</p>\n                <p class=\"card-text text-danger\">Bağlı değil</p>\n              </div>\n\n              <div class=\"d-flex justify-content-between flex-row\">\n                <p class=\"card-text\">sensör bağlantısı</p>\n                <p class=\"card-text text-secondary\">Bilgi yok</p>\n              </div>\n\n              <div class=\"d-flex justify-content-between flex-row\">\n                <p class=\"card-text\">Çalışma süres,</p>\n                <p class=\"card-text text-secondary\">Bilgi yok</p>\n              </div>\n              <div class=\"mb-2 row align-items-center\">\n                <label for=\"iha_adres\" class=\"col-sm-4 col-form-label\">Firebase Adress</label>\n                <div class=\"col-sm-5\">\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"iha_adres\">\n                </div>\n\n                <div class=\"col-sm-3\">\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"iha_adres_port\">\n                </div>\n              </div>\n\n              <div class=\"mb-2 row align-items-center\">\n                <label for=\"username\" class=\"col-sm-4 col-form-label\">Kullanıcı Adı</label>\n                <div class=\"col-sm-8\">\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"username\">\n                </div>\n              </div>\n\n              <div class=\"mb-2 row align-items-center\">\n                <label for=\"password\" class=\"col-sm-4 col-form-label\">Şifre</label>\n                <div class=\"col-sm-8\">\n                  <input type=\"text\" class=\"form-control form-control-sm\" id=\"password\">\n                </div>\n              </div>\n\n              <div class=\"d-grid gap-2 mt-3\">\n                <a href=\"#\" class=\"btn btn-success\">Kaydet</a>\n              </div>\n\n            </div>\n          </div>\n\n\n\n\n\n        </div>\n        <div class=\"col-md-10 goruntu-gaz \">\n          <div class=\"row camera-div\">\n            <div class=\"col-md-4\">\n              <div class=\"tool-tip\">\n                <Tooltip class=\"tooltip-style \" :fitContent=\"true\">\n\n                  <span class=\"tooltip-icon\">⚠️</span> Doluluk Oranı {{ doluluk }}\n                </Tooltip>\n              </div>\n              <img id=\"kamera\" ref=\"kamera\" :width=\"160\" :height=\"160\">\n              <Button class=\"camera-button\" @click=\"takephoto()\">\n                <i class=\"pi pi-camera\"></i>\n                <span class=\"text-class\">Görüntü AL</span>\n              </Button>\n            </div>\n\n\n\n          </div>\n          <!-- <div class=\"col-md-4 gaz-tittle\"> -->\n          <div class=\"row mt-3\">\n            <div class=\"col-md-6 tool-tip-div\">\n              <div class=\"tool-tip\">\n                <Tooltip class=\"tooltip-style \" :fitContent=\"true\">\n\n                  <span class=\"tooltip-icon\">⚠️</span> Gaz değeri\n                </Tooltip>\n              </div>\n\n              <Message :severity=\"gazseverity\" :content=\"gazuyari\" @visibleChange=\"gazhideMessage\"> {{\n                this.gazuyari }} değer</Message>\n\n\n              <Slider class=\"sliderTitle\" v-model=\"gazvalue\" :min=\"0\" :max=\"100\" :step=\"1\"></Slider>\n              <p>Seçili değer: {{ gazvalue }}</p>\n\n\n            </div>\n            <div class=\"col-md-6 tool-tip-div\">\n              <div class=\"tool-tip\">\n                <Tooltip class=\"tooltip-style \" :fitContent=\"true\">\n\n                  <span class=\"tooltip-icon\">⚠️</span> Işık Değeri\n                </Tooltip>\n              </div>\n\n              <Message :severity=\"o2severity\" :content=\"o2uyari\" @visibleChange=\"o2hideMessage\"> {{\n                this.o2uyari }} değer</Message>\n\n              <Slider class=\"sliderTitle\" v-model=\"isik_value\" :min=\"0\" :max=\"1024\" :step=\"1\"></Slider>\n              <p>Seçili değer: {{ isik_value }}</p>\n\n\n            </div>\n\n\n          </div>\n\n        </div>\n\n\n\n\n\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-4 tool-tip-div\">\n          <div class=\"tool-tip\">\n            <Tooltip class=\"tooltip-style \" :fitContent=\"true\">\n\n              <span class=\"tooltip-icon\">⚠️</span> Fan Level\n            </Tooltip>\n          </div>\n         <div class=\"d-flex button-level-style\">\n          <Button>ddfsdf</Button>\n          <Button>ddfsdf</Button>\n          <Button>ddfsdf</Button>\n\n         </div>\n\n\n\n        </div>\n        <div class=\"col-md-4 tool-tip-div\">\n          <div class=\"tool-tip\">\n            <Tooltip class=\"tooltip-style \" :fitContent=\"true\">\n\n              <span class=\"tooltip-icon\">⚠️</span> Servo Level\n            </Tooltip>\n            \n          </div>\n\n\n\n\n        </div>\n        <div class=\"col-md-4 tool-tip-div\">\n          <div class=\"tool-tip\">\n            <Tooltip class=\"tooltip-style \" :fitContent=\"true\">\n\n              <span class=\"tooltip-icon\">⚠️</span> Light Level\n            </Tooltip>\n          </div>\n\n\n\n\n        </div>\n\n      </div>\n      <div class=\"row\">\n\n\n\n\n\n\n        <DataTable :value=\"logList\" :scrollable=\"true\" scrollHeight=\"380px\" tableStyle=\"{'width':'auto'}\"\n          class=\"table table-dark table-dark-hover mt-3\">\n          <Column field=\"datetime\" header=\"Tarih\" [style]=\"{'width':'10px'}\"></Column>\n          <Column field=\"level\" header=\"Seviye\"></Column>\n          <Column field=\"message\" header=\"Mesaj\"></Column>\n        </DataTable>\n\n\n\n\n\n\n\n\n\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport arayuzAssetVerileri from '@/assets/arayuz_assetleri.json'\nimport Slider from 'primevue/slider';\nimport DataTable from 'primevue/datatable';\nimport Column from 'primevue/column';\nimport Message from 'primevue/message';\nimport Button from 'primevue/button';\nimport { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, onValue, set } from 'firebase/database';\n\nexport default {\n  name: 'App',\n  components: {\n    [DataTable.name]: DataTable,\n    [Column.name]: Column,\n    [Button.name]: Button,\n    Slider,\n    Message\n  },\n  watch: {\n    gazvalue(newVal) {\n      console.log(newVal)\n      if (newVal < 33) {\n        this.gazshowMessage = true;\n        this.gazseverity = 'warn'\n        this.gazuyari = \"düşük\"\n      }\n      else if (newVal >= 33 && newVal < 75) {\n        this.gazshowMessage = true;\n        this.gazseverity = 'info'\n        this.gazuyari = \"orta\"\n      }\n      else {// if (newVal >= 75) {\n        this.gazshowMessage = true;\n        this.gazseverity = 'error'\n        this.gazuyari = \"yüksek\"\n      }\n\n    },\n    isik_value(newVal) {\n      if (newVal < 256) {\n        this.o2showMessage = true;\n        this.o2severity = 'warn'\n        this.o2uyari = \"düşük\"\n      }\n      else if (newVal >= 256 && newVal < 768) {\n        this.o2showMessage = true;\n        this.o2severity = 'info'\n        this.o2uyari = \"orta\"\n      }\n      else {\n        this.o2showMessage = true;\n        this.o2severity = 'error'\n        this.o2uyari = \"yüksek\"\n      }\n\n    }\n\n  },\n  data() {\n    return {\n      kamera: {\n        en: 320,\n        boy: 320,\n      },\n      firebaseConfig: {\n\n        databaseURL: \"https://trash-9498e-default-rtdb.firebaseio.com/\",\n\n      },\n      app: null,\n      database: null,\n      gazvalue: 0,\n      o2value: 0,\n      isik_value: 0,\n      doluluk: 0,\n      light_level: 0,\n      fan_speed: 0,\n      Servo_speed: 0,\n\n\n      o2showMessage: false,\n      gazshowMessage: false,\n      o2severity: \"warn\",\n      o2uyari: \"düşük\",\n      gazseverity: \"warn\",\n      gazuyari: \"düşük\",\n\n      yerIstasyonuWebsocket: null,\n      websocketBaglantiTimeout: 5000, // 5 sn\n\n      yerIstasyonuBagli: false,\n      hakemSunucuBagli: false,\n      ihaDurum: 'Bilgi yok',\n      yarismaSuresi: 'Bilgi yok', // Nasi yapilir ? Sunucudan da gelebilir.\n\n      msg: '',\n      response: '',\n      logs: '',\n      logSeviyeITOS: {\n        0: 'NOTSET',\n        10: 'DEBUG',\n        20: 'INFO',\n        30: 'WARNING',\n        40: 'ERROR',\n        50: 'CRITICAL',\n      },\n      logSeviyeSTOI: {\n        NOTSET: 0,\n        DEBUG: 10,\n        INFO: 20,\n        WARNING: 30,\n        ERROR: 40,\n        CRITICAL: 50,\n      },\n      logList: [\n\n      ]\n\n\n    }\n  },\n  created() {\n\n\n  },\n  mounted() {\n\n    this.parsedata();\n\n  },\n  methods: {\n    addlog(level, message) {\n      var date = new Date()\n      this.logList.push({\n        datetime: date,\n        level: level,\n        message: message\n      });\n    },\n    parsedata() {\n      const app = initializeApp(this.firebaseConfig);\n      const database = getDatabase(app);\n      const arduino = ref(database, '/arduino');\n\n      // Değişiklikleri dinle\n      onValue(arduino, (snapshot) => {\n        const data = snapshot.val();\n        const parts = data.split(\"&\");\n        const values = {};\n\n        parts.forEach(part => {\n          const [key, value] = part.split(\"=\");\n          console.log(key);\n          console.log(\"value : \" + value)\n          if (key == \"G\") {\n            this.gazvalue = parseFloat(value)\n          }\n          else if (key == \"L\") {\n            this.isik_value = parseFloat(value)\n          }\n          else if (key == \"D\") {\n            this.doluluk = parseFloat(value)\n          }\n          else if (key == \"LS\") {\n            this.light_level = value;\n\n          }\n          else if (key == \"FS\") {\n            this.fan_speed = value;\n          }\n          else if (key == \"SS\") {\n            this.Servo_speed = value;\n          }\n        });\n\n        // document.getElementById(\"kamera\").src=data\n        // this.gazvalue=data\n        // Verileri kullanın veya işleyin\n      });\n    },\n\n    insertphotovalue(deger) {\n      // Firebase referansını oluşturun\n      const app = initializeApp(this.firebaseConfig);\n      const database = getDatabase(app);\n      const databaseRef = ref(database, '/take_photo');\n\n      // Veriyi ekleyin\n      set(databaseRef,\n        deger\n      )\n        .then(() => {\n          console.log('Veri eklendi');\n        })\n        .catch((error) => {\n          console.error('Veri eklenirken bir hata oluştu:', error);\n        });\n    },\n    takegazvalue() {\n\n      const app = initializeApp(this.firebaseConfig);\n      const database = getDatabase(app);\n      const espCamRef = ref(database, '/gaz_value');\n\n      // Değişiklikleri dinle\n      onValue(espCamRef, (snapshot) => {\n        const data = snapshot.val();\n        console.log(data);\n        // document.getElementById(\"kamera\").src=data\n        this.gazvalue = data\n        // Verileri kullanın veya işleyin\n      });\n\n    },\n    takeo2value() {\n      const app = initializeApp(this.firebaseConfig);\n      const database = getDatabase(app);\n      const espCamRef = ref(database, '/oksijen_value');\n\n      // Değişiklikleri dinle\n      onValue(espCamRef, (snapshot) => {\n        const data = snapshot.val();\n\n        // document.getElementById(\"kamera\").src=data\n        this.o2value = data\n        // Verileri kullanın veya işleyin\n      });\n\n    },\n    takephoto() {\n      this.insertphotovalue(true);\n      const app = initializeApp(this.firebaseConfig);\n      const database = getDatabase(app);\n      // Veritabanı referansını alın\n      const espCamRef = ref(database, '/esp32-cam');\n\n      // Değişiklikleri dinle\n      onValue(espCamRef, (snapshot) => {\n        const data = snapshot.val();\n        // document.getElementById(\"kamera\").src=data\n        this.$refs[\"kamera\"].src = data\n        this.addlog(\"INFO\", \"görüntü alındı..\")\n        // Verileri kullanın veya işleyin\n      });\n    },\n    gazhideMessage() {\n      this.gazshowMessage = false;\n    },\n    o2hideMessage() {\n      this.o2showMessage = false;\n    },\n    logAnlikZaman() {\n      var dt = new Date();\n      return `${dt.getHours()}:${dt.getMinutes()}:${dt.getSeconds()}.${dt.getMilliseconds()}`;\n    },\n    loglaraEkle(log) {\n      this.logs += `${log}\\n`;\n      this.logList.push(log);\n      // Burdan sonrası asagi autoscroll\n      var textarea = this.$refs.logtextarea;\n      if (textarea === undefined || textarea === null)\n        return;\n      textarea.scrollTop = textarea.scrollHeight;\n      this.$forceUpdate();\n      this.logTableAsagiScroll();\n    },\n    logTableAsagiScroll() {\n      var dt = document.getElementsByClassName('ui-datatable-scrollable-body')[0];\n      if (dt === undefined || dt === null) return\n      dt.scrollTop = dt.scrollHeight - dt.clientHeight;\n    },\n\n\n  }\n}\n</script>\n\n<style>\n/* #app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n} */\n\n.container {\n  display: flex;\n  flex-direction: column;\n}\n\n.bilgiler-kamera-kalman {\n  display: flex;\n  margin-left: 10px;\n  margin-right: 10px;\n}\n\n.bilgiler {\n  display: flex;\n  flex-direction: column;\n  margin-right: 10px;\n}\n\n.bilgiler>* {\n  border: solid 1px;\n}\n\n.satir-1 {\n  display: flex;\n}\n\n.sunucu-bilgileri {\n  display: flex;\n  flex-direction: column;\n}\n\n.bilgi-satir {\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  max-height: 40px;\n}\n\n.kamera-ibreler-kalman {\n  display: flex;\n  flex-direction: column;\n}\n\n.kamera-kalman {\n  display: flex;\n}\n\n.kamera-kalman>* {\n  border: solid 1px black;\n}\n\n.ibreler {\n  display: flex;\n  justify-content: center;\n  background-color: black;\n  border: 5px solid gray;\n  border-bottom-right-radius: 50px;\n  border-bottom-left-radius: 50px;\n}\n\n.ibreler>* {\n  margin-right: 10px;\n}\n\n.kalman-harita {\n  /* background-color: green; */\n  border: solid 1px black;\n  width: 40%;\n}\n\n/* #kamera-ibreler-canvas {\n  width: 33%;\n} */\n\n.hizli-komutlar-satir {\n  display: flex;\n  flex-direction: column;\n}\n\n.hizli-komutlar {\n  display: flex;\n  justify-content: center;\n}\n\n.yki-komut {\n  display: flex;\n  justify-content: center;\n}\n\n.log-satir {\n  display: flex;\n  flex-direction: row;\n}\n\n.log-kayitlari {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  padding: 0.5%;\n  margin: 0.5%;\n  width: 100%;\n}\n\n#logtextarea {\n  width: 100%;\n  min-height: 250%;\n}\n\n#logtable tr {\n  font-size: 13px;\n  height: 30px;\n}\n\nbody {\n  font-family: Roboto Mono;\n  background-color: #121212;\n}\n\n.text-green {\n  color: #94bc2f !important;\n}\n\n\n.btn-outline-success {\n  --bs-btn-color: #94bc2f;\n  --bs-btn-border-color: #94bc2f;\n  --bs-btn-hover-color: #fff;\n  --bs-btn-hover-bg: #94bc2f;\n  --bs-btn-hover-border-color: #94bc2f;\n  --bs-btn-focus-shadow-rgb: 25, 135, 84;\n  --bs-btn-active-color: #fff;\n  --bs-btn-active-bg: #94bc2f;\n  --bs-btn-active-border-color: #94bc2f;\n  --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n  --bs-btn-disabled-color: #94bc2f;\n  --bs-btn-disabled-bg: transparent;\n  --bs-btn-disabled-border-color: #94bc2f;\n  --bs-gradient: none;\n}\n\n.btn-success {\n  --bs-btn-color: #fff;\n  --bs-btn-bg: #94bc2f;\n  --bs-btn-border-color: #94bc2f;\n  --bs-btn-hover-color: #fff;\n  --bs-btn-hover-bg: #648121;\n  --bs-btn-hover-border-color: #648121;\n  --bs-btn-focus-shadow-rgb: 60, 153, 110;\n  --bs-btn-active-color: #fff;\n  --bs-btn-active-bg: #648121;\n  --bs-btn-active-border-color: #13653f;\n  --bs-btn-active-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);\n  --bs-btn-disabled-color: #fff;\n  --bs-btn-disabled-bg: #94bc2f;\n  --bs-btn-disabled-border-color: #94bc2f;\n}\n\n.camera-button {\n  font-size: 600px;\n  width: 100%;\n  height: 100px;\n  margin-bottom: 0.5rem;\n  margin-top: 1%;\n}\n\n.pi pi-camera {\n  font-size: large;\n  margin-left: 10px;\n}\n\n.text-class {\n\n  margin-left: 50px;\n  text-align: center;\n\n}\n\n.Gaz-Tittle {\n  color: white;\n  position: relative;\n}\n\n.slider-container {\n  width: 300px;\n  height: 30px;\n}\n\n.tooltip-style {\n  background-color: #f1f1f1;\n  color: #333;\n\n  padding: 16px;\n\n  /* padding-right: 50%;\n  padding-left: 50%; */\n  font-size: large;\n\n}\n\n.tooltip-icon {\n  margin-right: 10px;\n\n\n}\n\n.sliderTitle {\n  margin: 10%;\n  margin-left: 1%;\n  margin-right: 1%;\n\n}\n\n.tool-tip {\n  display: flex;\n  justify-content: center;\n  background-color: #f1f1f1;\n  border: 1px solid #ccc;\n  border-radius: 16px;\n}\n\n.goruntu-gaz {\n  display: flex;\n  flex-direction: column;\n}\n\n.goruntu-gaz>h2 {\n  color: black;\n  background-color: #f1f1f1;\n  border-radius: 5%;\n}\n\n.ana-baslik {\n  color: white;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 1%;\n\n}\n\n.no-padding {\n  padding: 0px !important;\n  padding-top: 1% !important;\n}\n\nimg+button {\n  margin-bottom: 10%;\n}\n\n.row-gaz {\n  display: flex;\n}\n\n#kamera {\n  width: 100%;\n  height: 320px;\n  background-color: red;\n}\n\n.camera-div {\n  display: flex;\n  justify-content: center;\n}\n\n.tool-tip-div p {\n\n  color: white;\n}\n\n.baglanti-bilgisi-div .card-body {\n  display: flex;\n\n  flex-direction: column;\n  justify-content: space-between;\n  align-content: space-between;\n\n}\n\n\n.card-body>div {\n  display: flex;\n  align-content: stretch;\n}\n.button-level-style{\n  display: flex;\n  justify-content: stretch;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}